(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],m=0,p=[];m<i.length;m++)o=i[m],s[o]&&p.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},s={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"023f":function(e,t,r){},"034f":function(e,t,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},1:function(e,t){},"17b3":function(e,t,r){"use strict";var n=r("cfbe"),s=r.n(n);s.a},"1fb8":function(e,t,r){},2:function(e,t){},"2f45":function(e,t,r){},"3c45":function(e,t,r){"use strict";var n=r("cb8d"),s=r.n(n);s.a},"505c":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navbar"),r("router-view")],1)},a=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[r("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),r("router-link",{attrs:{to:"/homepage"}},[r("b-navbar-brand",[e._v("Full-Stacky")])],1),r("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[r("b-navbar-nav",[e.getUser?r("b-nav-item",[r("router-link",{staticClass:"links",attrs:{to:{name:"Profile"}}},[e._v("Profile")])],1):e._e(),e.getUser?r("b-nav-item",[r("router-link",{staticClass:"links",attrs:{to:{name:"AllPosts"}}},[e._v("Posts")])],1):e._e()],1),e.getUser?r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{right:""}},[r("template",{slot:"button-content"},[r("em",[e._v(e._s(e.getUser.username))])]),r("b-dropdown-item",{staticClass:"dropdown-links"},[r("router-link",{attrs:{to:{name:"Profile"}}},[e._v("Profile")])],1),r("b-dropdown-item",{staticClass:"dropdown-links"},[r("router-link",{attrs:{to:{name:"Inbox"}}},[e._v("Messages")])],1),r("b-dropdown-item",{staticClass:"dropdown-links",on:{click:e.signOut}},[e._v("Signout")])],2)],1):e._e()],1)],1)},i=[],c=r("bd86"),u=r("cebc"),l=r("2f62"),m=Object(c["a"])({computed:Object(u["a"])({},Object(l["b"])(["loggedIn"])),methods:{signOut:function(){this.$store.dispatch("signout"),this.$router.push("/")}}},"computed",Object(u["a"])({},Object(l["b"])(["getUser"]))),p=m,d=(r("c879"),r("2877")),f=Object(d["a"])(p,o,i,!1,null,"55c9601b",null),h=f.exports,v={name:"app",components:{Navbar:h}},b=v,g=(r("034f"),Object(d["a"])(b,s,a,!1,null,null,null)),w=g.exports,_=r("9f7b"),C=r("8c4f"),k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Homepage")])])}],y={data:function(){return{}},computed:Object(u["a"])({},Object(l["b"])(["getUser"]))},R=y,O=(r("e2d4"),Object(d["a"])(R,k,x,!1,null,"07588730",null)),j=O.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-3"},[r("div",[r("b-nav",[r("b-nav-item",{attrs:{active:""}},[r("router-link",{staticClass:"mr-3",attrs:{to:{name:"Profile"},active:""}},[e._v("Profile")])],1),r("b-nav-item",{attrs:{active:""}},[r("router-link",{staticClass:"mr-3",attrs:{to:{name:"AccountSettings"},active:""}},[e._v("Account Settings")])],1)],1)],1),r("router-view")],1)},U=[],F={props:{user:Object,required:!0}},q=F,M=(r("c476"),Object(d["a"])(q,P,U,!1,null,"5f514c03",null)),I=M.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-3",attrs:{id:"profile"}},[r("div",{staticClass:"alerts"},[e.friendRequestResponse?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v(e._s(e.friendRequestResponse))]):e._e(),e.friendRequest.success?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Friend request sent")]):e._e(),e.friendRequest.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v("Friend request still pending")]):e._e(),e.friendRemoved?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Friend has been removed")]):e._e(),e.msgInfo.success?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Your message has been sent")]):e._e(),e.msgInfo.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v(e._s(e.msgInfo.error))]):e._e()],1),r("div",{staticClass:"row mt-5"},[r("div",{staticClass:"user-info column"},[r("h3",{attrs:{id:"username"}},[e._v("Hello, "+e._s(e.getUser.username))]),r("small",[e._v("Member since: "+e._s(e.getUser.createdAt))]),e._m(0),r("div",{staticClass:"user-details mt-1"},[r("h4",[e._v("Details")]),r("p",[r("i",{staticClass:"fas fa-envelope"}),e._v("\n          : "+e._s(e.userMessages.length)+"\n        ")]),r("p",[e._v("Total posts: "+e._s(e.userPosts.length))]),r("p",[e._v("Total friends: "+e._s(e.friends.length))]),e.showFriendRequests?e._e():r("b-button",{attrs:{variant:"link"},on:{click:function(t){e.showFriendRequests=!0}}},[e._v("See pending friend requests: "+e._s(e.pendingFriendRequests.length))]),e.showFriendRequests?r("b-button",{attrs:{variant:"link"},on:{click:function(t){e.showFriendRequests=!1}}},[e._v("Hide requests")]):e._e(),e.showFriendRequests?r("b-list-group",e._l(e.pendingFriendRequests,function(t){return r("b-list-group-item",{key:t._id},[e._v("\n            "+e._s(t.from.username)+"\n            "),r("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(r){e.acceptFriendRequest(t.to,t.from._id)}}},[e._v("Accept")])],1)}),1):e._e()],1)]),r("div",{staticClass:"friends column ml-5"},[r("h3",[e._v("Your Friends")]),0===e.friends.length?r("p",[e._v("Seems like you currently have no one added")]):e._e(),!e.viewingFriends&&e.friends.length>=1?r("b-button",{attrs:{variant:"link"},on:{click:function(t){e.viewingFriends=!0}}},[e._v("View Friends")]):e._e(),e.viewingFriends&&e.friends.length>=1?r("b-button",{attrs:{variant:"link"},on:{click:function(t){e.viewingFriends=!1}}},[e._v("Hide Friends")]):e._e(),r("br"),e.viewingFriends&&e.friends.length>=1?r("b-list-group",{attrs:{id:"friends"}},e._l(e.friends,function(t){return r("b-list-group-item",{key:t._id,staticClass:"mb-1"},[e._v("\n          "+e._s(t.from.username)+"\n          "),r("br"),r("b-button",{attrs:{variant:"link",size:"sm"},on:{click:function(r){e.removeFriend(t.to,t.from._id)}}},[e._v("Remove")]),r("b-button",{attrs:{variant:"link",size:"sm"},on:{click:function(r){e.viewUser(t.from._id)}}},[e._v("View profile")]),r("b-button",{attrs:{variant:"link",size:"sm"},on:{click:function(r){e.startMsg(t.from._id,t.to)}}},[e._v("Send Message")])],1)}),1):e._e(),r("b-button",{attrs:{variant:"primary"},on:{click:e.getUsers}},[e._v("Add new friend")]),r("b-modal",{attrs:{id:"modal",title:"Search users"},model:{value:e.friendRequest.showModal,callback:function(t){e.$set(e.friendRequest,"showModal",t)},expression:"friendRequest.showModal"}},[r("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Search username"},model:{value:e.friendRequest.username,callback:function(t){e.$set(e.friendRequest,"username",t)},expression:"friendRequest.username"}}),e.filteredUsers?r("b-list-group",{attrs:{id:"user-list"}},e._l(e.filteredUsers,function(t){return r("b-list-group-item",{key:t._id,staticClass:"mb-2"},[e._v("\n            "+e._s(t.username)+"\n            "),r("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"},on:{click:function(r){e.sendFriendRequest(t._id)}}},[e._v("Add")])],1)}),1):e._e(),r("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-btn",{staticClass:"float-left",attrs:{size:"sm",variant:"secondary"},on:{click:function(t){e.friendRequest.showModal=!1}}},[e._v("Cancel")])],1)],1)],1),r("div",{staticClass:"posts ml-5 column"},[r("h3",[e._v("Your Posts")]),e.showPosts?e._e():r("b-button",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.showPosts=!0}}},[e._v("Show posts")]),e.showPosts?r("b-button",{staticClass:"mb-3",attrs:{variant:"secondary"},on:{click:function(t){t.preventDefault(),e.showPosts=!1}}},[e._v("Hide posts")]):e._e(),e.showPosts?r("b-list-group",{staticClass:"posts column"},[e._l(e.userPosts,function(t){return r("b-list-group-item",{key:t._id,staticClass:"mb-1"},[t.editing?e._e():r("h4",[e._v(e._s(t.title))]),t.editing?r("div",[t.editing?r("b-form-input",{staticClass:"mb-3",attrs:{label:"Title",placeholder:"Change title"}}):e._e(),r("b-form-textarea",{attrs:{placeholder:"Enter something",rows:3,"max-rows":6},model:{value:t.newBody,callback:function(r){e.$set(t,"newBody",r)},expression:"post.newBody"}})],1):e._e(),r("small",[e._v("Created on "+e._s(t.createdAt))]),r("p",[e._v(e._s(t.body))]),t.editing?e._e():r("div",[r("b-button",{staticClass:"mr-2",attrs:{variant:"warning"},on:{click:function(e){t.editing=!0}}},[e._v("Edit")]),r("b-button",{attrs:{variant:"danger"},on:{click:function(r){e.deletePost(t._id)}}},[e._v("Delete")])],1),t.editing?r("div",[r("b-button",{staticClass:"mr-2",attrs:{variant:"secondary"},on:{click:function(e){t.editing=!1}}},[e._v("Cancel")]),r("b-button",{attrs:{variant:"primary"}},[e._v("Save")])],1):e._e()])}),e.noUserPosts?r("p",[e._v("You currently have zero posts")]):e._e()],2):e._e()],1),r("hr")]),e.viewingUser?r("b-modal",{attrs:{id:"modal",title:"User"},model:{value:e.viewingUser,callback:function(t){e.viewingUser=t},expression:"viewingUser"}},[r("div",{staticClass:"d-block text-center"},[r("h3",[e._v(e._s(e.userProfile.username))]),r("p",[e._v("Joined: "+e._s(e.userProfile.createdAt))]),r("p",[e._v("Total Friends: "+e._s(e.userProfileFriends.length))])]),r("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-btn",{staticClass:"float-left",attrs:{size:"sm",variant:"secondary"},on:{click:function(t){e.viewingUser=!1}}},[e._v("Close")])],1)]):e._e(),r("b-modal",{attrs:{"no-close-on-esc":"","hide-header-close":"","no-close-on-backdrop":"",id:"modal",title:"Send Message"},model:{value:e.msgModal,callback:function(t){e.msgModal=t},expression:"msgModal"}},[r("b-form",{staticClass:"mt-4"},[r("b-form-group",[r("b-form-input",{staticClass:"mb-3",attrs:{label:"Title",placeholder:"Title"},model:{value:e.msg.title,callback:function(t){e.$set(e.msg,"title",t)},expression:"msg.title"}}),r("b-form-textarea",{attrs:{placeholder:"Enter something",rows:3,"max-rows":6},model:{value:e.msg.body,callback:function(t){e.$set(e.msg,"body",t)},expression:"msg.body"}})],1)],1),r("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"},on:{click:e.sendMsg}},[e._v("Send")]),r("b-btn",{staticClass:"float-left",attrs:{size:"sm",variant:"secondary"},on:{click:e.cancelMsg}},[e._v("Cancel")])],1)],1)],1)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"profile-pic-container"}},[n("img",{staticClass:"mt-3 mb-3",attrs:{src:r("5b4d"),id:"profile-pic"}}),n("br"),n("i",{staticClass:"fas fa-upload",attrs:{id:"edit-profile-pic"}})])}],E=(r("96cf"),r("3b8d")),A=(r("4917"),r("d225")),T=r("b0b4"),z=r("bc3a"),D="/api/post/",L=function(){function e(){Object(A["a"])(this,e)}return Object(T["a"])(e,null,[{key:"getPosts",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",z.get(D+"posts"));case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getUserPosts",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",z.get(D+"user-posts/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deletePost",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",z.delete(D+"delete/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPost",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",z.post(D+"create",t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),H=L,Y=r("bc3a"),B="/api/user/",G=function(){function e(){Object(A["a"])(this,e)}return Object(T["a"])(e,null,[{key:"create",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r,n){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s={username:t,email:r,password:n},e.abrupt("return",Y.post(B+"create",s));case 2:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={username:t,password:r},e.abrupt("return",Y.post(B+"login",n));case 2:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUserInfo",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.get(B+"user-info/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"changeUsername",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.put(B+"/change-username/"+t,{newUsername:r}));case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"changePassword",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.put(B+"/change-password/"+t,{newPassword:r}));case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getUsers",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Y.get(B));case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),e}(),N=G,J=r("bc3a"),V="/api/friend/",W=function(){function e(){Object(A["a"])(this,e)}return Object(T["a"])(e,null,[{key:"addFriend",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.post(V+"add",{requestingUser:t,recievingUser:r}));case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"removeFriend",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.delete("".concat(V,"remove/").concat(t,"/").concat(r)));case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getFriends",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.get(V+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPendingFriendRequests",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.get(V+"/requests/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"acceptFriendRequest",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",J.post(V+"accept",{to:t,from:r}));case 1:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),K=W,Q=r("bc3a"),X="/api/message/",Z=function(){function e(){Object(A["a"])(this,e)}return Object(T["a"])(e,null,[{key:"getMessages",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.get(X+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.delete(X+"/delete/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.post(X+"/create",t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ee=Z,te={data:function(){return{showPosts:!1,userPosts:[],post:{editing:!1,newTitle:"",newBody:""},userMessages:[],userProfileFriends:0,userProfile:null,viewingUser:!1,friendRemoved:!1,showFriendRequests:!1,friendRequestResponse:null,friends:[],users:[],viewingFriends:!1,pendingFriendRequests:[],friendRequest:{showModal:!1,error:!1,success:!1,username:""},msgModal:!1,msg:{to:null,from:null,title:"",body:""},msgInfo:{error:null,success:null}}},computed:Object(u["a"])({},Object(l["b"])(["getUser"]),{noUserPosts:function(){return 0===this.userPosts.length},filteredUsers:function(){var e=this;return this.users.filter(function(t){return t.username.toLowerCase().match(e.friendRequest.username.toLowerCase())})}}),created:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.getUserPosts(this.getUser._id);case 3:t=e.sent,t&&(this.userPosts=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.response.data);case 10:return e.prev=10,e.next=13,K.getFriends(this.getUser._id);case 13:r=e.sent,r&&(this.friends=r.data),e.next=20;break;case 17:e.prev=17,e.t1=e["catch"](10),console.log(e.t1.response.data);case 20:return e.prev=20,e.next=23,K.getPendingFriendRequests(this.getUser._id);case 23:n=e.sent,this.pendingFriendRequests=n.data,e.next=29;break;case 27:e.prev=27,e.t2=e["catch"](20);case 29:return e.prev=29,e.next=32,ee.getMessages(this.getUser._id);case 32:s=e.sent,this.userMessages=s.data,e.next=39;break;case 36:e.prev=36,e.t3=e["catch"](29),console.log(e.t3.response.data);case 39:case"end":return e.stop()}},e,this,[[0,7],[10,17],[20,27],[29,36]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{deletePost:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H.deletePost(t);case 2:return e.next=4,H.getUserPosts(this.getUser._id);case 4:r=e.sent,this.userPosts=r.data;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editPost:function(){return this.post.editing=!0},getUsers:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.friendRequest.showModal=!0,e.prev=1,e.next=4,N.getUsers();case 4:t=e.sent,t&&(this.users=t.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));function t(){return e.apply(this,arguments)}return t}(),refreshFriendRequests:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K.getPendingFriendRequests(this.getUser._id);case 2:t=e.sent,this.pendingFriendRequests=t.data;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),sendFriendRequest:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.addFriend(this.getUser._id,t);case 3:r=e.sent,r&&(this.friendRequest.success=!0,setTimeout(function(){n.friendRequest.success=!1},2500)),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),this.friendRequest.error=!0,setTimeout(function(){n.friendRequest.error=!1},2500),console.log(e.t0.response.data);case 12:case"end":return e.stop()}},e,this,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),acceptFriendRequest:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){var n,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.acceptFriendRequest(t,r);case 3:n=e.sent,n&&(this.refreshFriendRequests(),this.refreshFriendList(),this.showFriendRequests=!1,this.acceptedFriendRequest=!0,this.friendRequestResponse=n.data,setTimeout(function(){s.acceptedFriendRequest=!1},2500)),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),refreshFriendList:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.getFriends(this.getUser._id);case 3:t=e.sent,t&&(this.friends=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),removeFriend:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){var n,s,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.confirm("Are you sure?"),console.log(t,r),!n){e.next=13;break}return e.prev=3,e.next=6,K.removeFriend(t,r);case 6:s=e.sent,s&&(this.refreshFriendList(),this.friendRemoved=!0,setTimeout(function(){a.friendRemoved=!1},2500)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0.response.data);case 13:case"end":return e.stop()}},e,this,[[3,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),viewUser:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,N.getUserInfo(t);case 4:r=e.sent,r&&(console.log(r),this.userProfile=r.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0.response.data);case 11:return e.prev=11,e.next=14,K.getFriends(t);case 14:n=e.sent,n&&(this.userProfileFriends=n.data),e.next=21;break;case 18:e.prev=18,e.t1=e["catch"](11),console.log(e.t1.response.data);case 21:this.viewingUser=!0;case 22:case"end":return e.stop()}},e,this,[[1,8],[11,18]])}));function t(t){return e.apply(this,arguments)}return t}(),startMsg:function(e,t){this.msg.to=e,this.msg.from=t,this.msgModal=!0},cancelMsg:function(){this.msg.to=null,this.msg.from=null,this.msg.title=null,this.msg.body=null,this.msgModal=!1},sendMsg:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.send(this.msg);case 3:t=e.sent,t&&(this.msgInfo.success=!0,this.msg.title="",this.msg.body="",setTimeout(function(){r.msgInfo.success=!1,r.cancelMsg()},2500)),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.response.data),this.msgInfo.error=e.t0.response.data,setTimeout(function(){r.msgInfo.error=null},2500);case 12:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},re=te,ne=(r("667d"),Object(d["a"])(re,$,S,!1,null,"564630cb",null)),se=ne.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-3",attrs:{id:"settings"}},[r("div",{staticClass:"alerts"},[e.usernameAlert.success?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Your username has been changed")]):e._e(),e.usernameAlert.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.usernameAlert.msg))]):e._e(),e.passwordAlert.success?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Your password has been changed")]):e._e(),e.passwordAlert.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.passwordAlert.msg))]):e._e()],1),r("h3",{staticClass:"mb-4"},[e._v("Settings")]),r("div",{staticClass:"username"},[r("br"),r("b-form",{staticClass:"w-25 m-auto d-flex align-items-center",on:{submit:function(t){return t.preventDefault(),e.changeUsername(t)}}},[r("b-form-input",{attrs:{type:"text",placeholder:"New username"},model:{value:e.usernameForm.newUsername,callback:function(t){e.$set(e.usernameForm,"newUsername",t)},expression:"usernameForm.newUsername"}}),r("b-button",{staticClass:"ml-1",attrs:{type:"submit",variant:"success"}},[e._v("Change")])],1)],1),r("div",{staticClass:"password mt-4"},[r("b-form",{staticClass:"w-25 m-auto d-flex align-items-center",on:{submit:function(t){return t.preventDefault(),e.changePassword(t)}}},[r("b-form-input",{attrs:{type:"password",placeholder:"New password"},model:{value:e.passwordForm.newPassword,callback:function(t){e.$set(e.passwordForm,"newPassword",t)},expression:"passwordForm.newPassword"}}),r("b-button",{staticClass:"ml-1",attrs:{type:"submit",variant:"success"}},[e._v("Change")])],1),r("br")],1)])},oe=[],ie={data:function(){return{usernameForm:{username:null,newUsername:""},usernameAlert:{error:!1,success:!1,msg:null},passwordForm:{password:null,newPassword:""},passwordAlert:{error:!1,success:!1,msg:null}}},computed:Object(u["a"])({},Object(l["b"])(["getUser"])),mounted:function(){this.usernameForm.username=this.getUser.username},methods:{changeUsername:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.changeUsername(this.getUser._id,this.usernameForm.newUsername);case 3:t=e.sent,t&&(console.log(t),this.$store.dispatch("updateUser",t),this.usernameAlert.success=!0,setTimeout(function(){r.usernameAlert.success=!1},3500),this.usernameForm.newUsername=""),e.next=14;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),this.usernameForm.newUsername="",this.usernameAlert.msg="Username already in use",this.usernameAlert.error=!0,setTimeout(function(){r.usernameAlert.error=!1},3500);case 14:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),changePassword:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.changePassword(this.getUser._id,this.passwordForm.newPassword);case 3:t=e.sent,t&&(this.$store.dispatch("updatePassword",t),this.passwordAlert.success=!0,setTimeout(function(){r.passwordAlert.success=!1},3500),this.passwordForm.newPassword=""),e.next=14;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(error),this.passwordForm.newPassword="",this.passwordAlert.msg=e.t0.message,this.passwordAlert.error=!0,setTimeout(function(){r.passwordAlert.error=!1},3500);case 14:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},ce=ie,ue=(r("d271"),r("9b92"),Object(d["a"])(ce,ae,oe,!1,null,"68b5dad6",null)),le=ue.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("keep-alive",[r("router-view")],1)],1)},pe=[],de={},fe=Object(d["a"])(de,me,pe,!1,null,null,null),he=fe.exports,ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.error))]):e._e(),r("b-form",{staticClass:"form mt-3",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("b-form-group",{attrs:{id:"exampleInputGroup1",label:"Username:","label-for":"exampleInput1"}},[r("b-form-input",{attrs:{id:"exampleInput1",type:"text",required:"",placeholder:"Enter username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("b-form-group",{attrs:{id:"exampleInputGroup2",label:"Password:","label-for":"exampleInput2"}},[r("b-form-input",{attrs:{id:"exampleInput2",type:"password",required:"",placeholder:"Enter password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),r("br"),r("p",[e._v("Or\n      "),r("router-link",{attrs:{to:"/signup"}},[e._v("Signup")])],1)],1)],1)},be=[],ge={data:function(){return{error:null,form:{username:"",password:""}}},methods:{login:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.login(this.form.username,this.form.password);case 3:t=e.sent,t&&(this.$store.dispatch("login",t.data),this.$router.push({name:"Profile",params:{user:t.data}})),e.next=13;break;case 7:e.prev=7,e.t0=e["catch"](0),this.error=e.t0.response.data,console.log(e.t0.response.data),setTimeout(function(){r.error=null},2500),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},we=ge,_e=(r("76e4"),Object(d["a"])(we,ve,be,!1,null,null,null)),Ce=_e.exports,ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.accountCreated?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Account has been successfully created")]):e._e(),e.createError?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.createError))]):e._e(),r("b-form",{staticClass:"form mt-3",on:{submit:function(t){return t.preventDefault(),e.createUser(t)}}},[r("b-form-group",{attrs:{id:"exampleInputGroup3",label:"Email:","label-for":"exampleInput3"}},[r("b-form-input",{attrs:{id:"exampleInput3",type:"text",required:"",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"exampleInputGroup1",label:"Username:","label-for":"exampleInput1"}},[r("b-form-input",{attrs:{id:"exampleInput1",type:"text",required:"",placeholder:"Enter username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("b-form-group",{attrs:{id:"exampleInputGroup2",label:"Password:","label-for":"exampleInput2"}},[r("b-form-input",{attrs:{id:"exampleInput2",type:"password",required:"",placeholder:"Enter password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Sign up")]),r("p",[e._v("Or\n      "),r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)],1)],1)},xe=[],ye={data:function(){return{accountCreated:!1,createError:null,form:{email:"",username:"",password:""}}},methods:{createUser:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.create(this.form.username,this.form.email,this.form.password);case 3:t=e.sent,t&&(this.accountCreated=!0,this.resetForm(),console.log(t)),e.next=12;break;case 7:e.prev=7,e.t0=e["catch"](0),this.createError=e.t0.response.data,setTimeout(function(){r.createError=null},2500),this.form.password="";case 12:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(){this.form.username="",this.form.email="",this.form.password=""}}},Re=ye,Oe=(r("ec50"),Object(d["a"])(Re,ke,xe,!1,null,null,null)),je=Oe.exports,Pe=r("bfa9");n["a"].use(l["a"]);var Ue=new Pe["a"]({key:"vuex",reducer:function(e){return{user:e.user}}}),Fe=new l["a"].Store({plugins:[Ue.plugin],state:{user:null},mutations:{login:function(e,t){e.user=t},signout:function(e){e.user=null,localStorage.clear()},updateUser:function(e,t){e.user=t}},getters:{loggedIn:function(e){return e.user},getUser:function(e){try{return e.user||JSON.parse(localStorage.getItem("vuex")).user}catch(error){console.log(error.message)}}},actions:{login:function(e,t){e.commit("login",t)},signout:function(e){e.commit("signout")},updateUser:function(e,t){e.commit("updateUser",t.data)}}}),qe=Fe,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-3"},[r("div",[r("b-nav",[r("b-nav-item",{attrs:{active:""}},[r("router-link",{staticClass:"mr-3",attrs:{to:{name:"AllPosts"},active:""}},[e._v("All Posts")])],1),r("b-nav-item",{attrs:{active:""}},[r("router-link",{staticClass:"mr-3",attrs:{to:{name:"CreatePost"},active:""}},[e._v("Create Post")])],1)],1)],1),r("router-view")],1)},Ie=[],$e=(r("5fac"),{}),Se=Object(d["a"])($e,Me,Ie,!1,null,"31571858",null),Ee=Se.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"alerts"},[e.postCreated?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Post successfully created")]):e._e(),e.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.error))]):e._e()],1),r("h3",{staticClass:"mt-4"},[e._v("Create Post")]),r("b-form",{staticClass:"mt-4",on:{submit:function(t){return t.preventDefault(),e.createPost(t)}}},[r("b-form-group",[r("b-form-input",{staticClass:"mb-3",attrs:{label:"Title",placeholder:"Title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),r("b-form-textarea",{attrs:{placeholder:"Enter something",rows:3,"max-rows":6},model:{value:e.form.body,callback:function(t){e.$set(e.form,"body",t)},expression:"form.body"}})],1),r("b-button",{attrs:{variant:"primary",type:"submit"}},[e._v("Create Post")])],1)],1)},Te=[],ze={data:function(){return{form:{title:"",body:"",author:this.$store.getters.getUser._id},postCreated:!1,error:null}},methods:{createPost:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.createPost(this.form);case 3:t=e.sent,t&&(this.form.title="",this.form.body="",this.postCreated=!0,setTimeout(function(){r.postCreated=!1},3500)),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.error=e.t0.response.data,setTimeout(function(){r.error=null},3500);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},De=ze,Le=(r("3c45"),Object(d["a"])(De,Ae,Te,!1,null,"21265ffe",null)),He=Le.exports,Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mt-3"},[r("div",{staticClass:"alerts"},[e.newComment.success?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"success"}},[e._v("Comment successfully created")]):e._e(),e.newComment.error?r("b-alert",{staticClass:"alert",attrs:{show:"",variant:"warning"}},[e._v(e._s(e.newComment.error))]):e._e()],1),r("h2",{staticClass:"mb-3"},[e._v("See what others are saying...")]),r("b-form-input",{attrs:{type:"text",placeholder:"Search post by title..."},model:{value:e.postSearch,callback:function(t){e.postSearch=t},expression:"postSearch"}}),r("b-list-group",{staticClass:"mt-4"},e._l(e.filteredPosts,function(t){return r("b-list-group-item",{key:t._id,staticClass:"mb-5",attrs:{id:"post"}},[r("h3",[e._v(e._s(t.title))]),r("small",[e._v("Written by "+e._s(t.author.username)+", on "+e._s(t.createdAt))]),r("hr"),r("p",[e._v(e._s(t.body))]),r("div",{staticClass:"rate-post"},[r("div",[r("i",{staticClass:"fas fa-thumbs-up mr-3"}),r("i",{staticClass:"fas fa-thumbs-down"})]),r("b-button",{staticClass:"ml-3",attrs:{size:"sm",variant:"primary"},on:{click:function(r){e.startCommenting(t._id,t.author._id)}}},[e._v("Comment")]),t.showingComments?e._e():r("b-button",{staticClass:"ml-3",attrs:{size:"sm"},on:{click:function(r){e.showComments(t,t._id)}}},[e._v("Show Comments")]),t.showingComments?r("b-button",{staticClass:"ml-3",attrs:{size:"sm"},on:{click:function(e){t.showingComments=!1}}},[e._v("Hide Comments")]):e._e()],1),t.showingComments?r("b-list-group",{staticClass:"mt-2",attrs:{id:"comments"}},e._l(e.comments,function(n){return n.postId===t._id?r("b-list-group-item",{key:n._id,staticClass:"mb-1"},[r("h4",[e._v(e._s(n.author.username)+" said:")]),r("p",[e._v(e._s(n.body))]),r("small",[e._v(e._s(n.createdAt))])]):e._e()}),1):e._e()],1)}),1),r("b-modal",{attrs:{"no-close-on-esc":"","hide-header-close":"","no-close-on-backdrop":"",title:"Tell em' what you thought"},model:{value:e.newComment.commenting,callback:function(t){e.$set(e.newComment,"commenting",t)},expression:"newComment.commenting"}},[r("b-form-textarea",{attrs:{placeholder:"Your comment...",rows:3,"max-rows":6},model:{value:e.newComment.comment,callback:function(t){e.$set(e.newComment,"comment",t)},expression:"newComment.comment"}}),r("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-btn",{staticClass:"float-left",attrs:{size:"sm",variant:"secondary"},on:{click:e.stopCommenting}},[e._v("Cancel")]),r("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"},on:{click:e.createComment}},[e._v("Submit")])],1)],1)],1)},Be=[],Ge=r("bc3a"),Ne="/api/comment/",Je=function(){function e(){Object(A["a"])(this,e)}return Object(T["a"])(e,null,[{key:"comment",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge.post(Ne+"create/",{postId:t,authorId:r,body:n}));case 1:case"end":return e.stop()}},e,this)}));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"showPostComments",value:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge.get(Ne+"post-comments/"+t));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ve=Je,We=(r("9490"),r("5118")),Ke={data:function(){return{userPosts:[],postSearch:"",comments:[],newComment:{comment:"",commenting:!1,success:!1,error:null,postId:null,authorId:null}}},created:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.getPosts();case 3:t=e.sent,t&&(this.userPosts=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),computed:{filteredPosts:function(){var e=this;return this.userPosts.filter(function(t){return t.title.toLowerCase().match(e.postSearch.toLowerCase())})},filteredComments:function(e,t){}},methods:{createComment:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve.comment(this.newComment.postId,this.newComment.authorId,this.newComment.comment);case 3:t=e.sent,t&&(this.newComment.success=!0,this.showComments(),Object(We["setTimeout"])(function(){r.stopCommenting(),r.newComment.success=!1},1500)),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),this.newComment.error=e.t0.response.data,Object(We["setTimeout"])(function(){r.newComment.error=null},2500);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),showComments:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve.showPostComments(r);case 3:n=e.sent,n&&(this.comments=n.data,t.showingComments=!0),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(t,r){return e.apply(this,arguments)}return t}(),startCommenting:function(e,t){this.newComment.postId=e,this.newComment.authorId=t,this.newComment.commenting=!0,this.newComment.comment=""},stopCommenting:function(){this.newComment.postId=null,this.newComment.authorId=null,this.newComment.comment="",this.newComment.commenting=!1}}},Qe=Ke,Xe=(r("17b3"),Object(d["a"])(Qe,Ye,Be,!1,null,"42741fc0",null)),Ze=Xe.exports,et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"myModalRef",attrs:{"hide-footer":"",title:"Using Component Methods"}},[r("div",{staticClass:"d-block text-center"},[r("h3",[e._v("Hello From My Modal!")])]),r("b-button",{staticClass:"mt-3",attrs:{variant:"outline-danger",block:""},on:{click:e.hideModal}},[e._v("Close Me")])],1)],1)},tt=[],rt={data:function(){return{}}},nt=rt,st=Object(d["a"])(nt,et,tt,!1,null,"5e8b5bd7",null),at=st.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.viewingComments?r("b-modal",{attrs:{id:"modal",title:"Your messages","no-close-on-esc":"","hide-header-close":"","no-close-on-backdrop":""},model:{value:e.viewingComments,callback:function(t){e.viewingComments=t},expression:"viewingComments"}},[r("div",{staticClass:"d-block text-center"},[0===e.messages.length?r("p",[e._v("Your inbox is currently empty")]):e._e(),r("b-list-group",e._l(e.messages,function(t){return r("b-list-group-item",{key:t._id,staticClass:"mb-2",attrs:{id:"msg"}},[r("h3",[e._v(e._s(t.title))]),r("small",[e._v("From: "+e._s(t.from.username))]),r("hr"),r("p",{staticClass:"mt-4"},[e._v(e._s(t.body))]),r("b-btn",{attrs:{size:"sm",variant:"warning"},on:{click:function(r){e.deleteMsg(t._id)}}},[e._v("Delete")])],1)}),1)],1),r("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("b-btn",{staticClass:"float-left",attrs:{size:"sm",variant:"secondary"},on:{click:e.stopViewingComments}},[e._v("Close")]),r("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"}},[e._v("Reply")])],1)]):e._e()],1)},it=[],ct=(r("7f7f"),{data:function(){return{viewingComments:!0,messages:[],pageBeforeEnter:null}},beforeRouteEnter:function(e,t,r){localStorage.setItem("pageBeforeEnter",t.name),console.log(t),r()},computed:Object(u["a"])({},Object(l["b"])(["getUser"])),created:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.getMessages(this.getUser._id);case 3:t=e.sent,this.messages=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{stopViewingComments:function(){var e=localStorage.getItem("pageBeforeEnter");this.$router.push({name:e}),localStorage.clear()},deleteMsg:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.delete(t);case 3:r=e.sent,r&&this.refreshMsgs(),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}(),refreshMsgs:function(){var e=Object(E["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.getMessages(this.getUser._id);case 3:t=e.sent,this.messages=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}}),ut=ct,lt=(r("d39c"),Object(d["a"])(ut,ot,it,!1,null,"b4461088",null)),mt=lt.exports;n["a"].use(C["a"]);var pt=new C["a"]({mode:"history",routes:[{path:"/homepage",name:"Homepage",component:j},{path:"/dashboard",name:"Dashboard",component:I,props:!0,children:[{path:"profile",alias:"/dashboard",name:"Profile",component:se},{path:"account-settings",name:"AccountSettings",component:le},{path:"inbox",name:"Inbox",component:mt}],beforeEnter:function(e,t,r){qe.getters.getUser?r():r({path:"/"})}},{path:"/",name:"HandleAuth",component:he,children:[{path:"",alias:"/login",name:"Login",component:Ce},{path:"/signup",name:"Signup",component:je}]},{path:"/posts",name:"Posts",component:Ee,children:[{path:"all-posts",name:"AllPosts",component:Ze},{path:"create-post",name:"CreatePost",component:He}]},{path:"/user/:id",component:at}]});pt.beforeEach(function(e,t,r){"/"!==e.path||"/homepage"!==e.path||"/login"!==e.path||"/signup"!==e.path?r():qe.getters.getUser?r():r({path:"/"})});var dt=pt;r("f9e3"),r("2dd8");n["a"].use(_["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(w)},store:qe,router:dt}).$mount("#app")},"5b4d":function(e,t,r){e.exports=r.p+"img/placeholder.ef036b9e.png"},"5fac":function(e,t,r){"use strict";var n=r("023f"),s=r.n(n);s.a},"64a9":function(e,t,r){},"667d":function(e,t,r){"use strict";var n=r("d8c7"),s=r.n(n);s.a},"76e4":function(e,t,r){"use strict";var n=r("fc2a"),s=r.n(n);s.a},"7d6e":function(e,t,r){},"9b92":function(e,t,r){"use strict";var n=r("c59a"),s=r.n(n);s.a},b565:function(e,t,r){},c476:function(e,t,r){"use strict";var n=r("eee5"),s=r.n(n);s.a},c59a:function(e,t,r){},c879:function(e,t,r){"use strict";var n=r("2f45"),s=r.n(n);s.a},cb8d:function(e,t,r){},cfbe:function(e,t,r){},d271:function(e,t,r){"use strict";var n=r("b565"),s=r.n(n);s.a},d39c:function(e,t,r){"use strict";var n=r("505c"),s=r.n(n);s.a},d8c7:function(e,t,r){},e2d4:function(e,t,r){"use strict";var n=r("1fb8"),s=r.n(n);s.a},ec50:function(e,t,r){"use strict";var n=r("7d6e"),s=r.n(n);s.a},eee5:function(e,t,r){},fc2a:function(e,t,r){}});
//# sourceMappingURL=app.278aa5d8.js.map